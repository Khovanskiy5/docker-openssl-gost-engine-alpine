# üîê OpenSSL 3.6.0 + GOST Engine –Ω–∞ Alpine

[![Alpine](https://img.shields.io/badge/Alpine-3.22.2-0D597F?logo=alpinelinux)](https://alpinelinux.org/)
[![OpenSSL](https://img.shields.io/badge/OpenSSL-3.6.0-blue)](https://www.openssl.org/)
[![GOST](https://img.shields.io/badge/GOST-Engine-red)](https://github.com/gost-engine/engine)
[![License](https://img.shields.io/badge/License-Apache%202.0-green.svg)](#–ª–∏—Ü–µ–Ω–∑–∏—è-–∏-–∞–≤—Ç–æ—Ä—Å—Ç–≤–æ)
[![Image Size](https://img.shields.io/badge/Image%20Size-60.6%20MB-brightgreen)](https://hub.docker.com/)
[![Compression](https://img.shields.io/badge/Compressed-15.2%20MB-9cf)](https://hub.docker.com/)

–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Docker‚Äë–æ–±—Ä–∞–∑ —Å **OpenSSL 3.6.0**, —Å–æ–±—Ä–∞–Ω–Ω—ã–º –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤, –∏ **GOST‚Äë–¥–≤–∏–∂–∫–æ–º** (`gost-engine/engine`) –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤. –û–±—Ä–∞–∑ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (~60.6 –ú–ë) –±–ª–∞–≥–æ–¥–∞—Ä—è multi‚Äëstage —Å–±–æ—Ä–∫–µ –Ω–∞ Alpine Linux.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤: –û—Å–Ω–æ–≤—ã –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏](#–¥–ª—è-–Ω–æ–≤–∏—á–∫–æ–≤-–æ—Å–Ω–æ–≤—ã-–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏)
- [–§–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤ –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è (PEM, DER, PFX)](#—Ñ–æ—Ä–º–∞—Ç—ã-—Ñ–∞–π–ª–æ–≤-–∏-–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è-pem-der-pfx)
- [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å –ì–û–°–¢ (–ï–°–ò–ê)](#–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è-–ø–æ-—Ä–∞–±–æ—Ç–µ-—Å-–≥–æ—Å—Ç-–µ—Å–∏–∞)
- [–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤](#—Å–æ–∑–¥–∞–Ω–∏–µ-—Ç–µ—Å—Ç–æ–≤—ã—Ö-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)
- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–†–∞–∑–º–µ—Ä –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](#—Ä–∞–∑–º–µ—Ä-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- [–í–Ω–µ—Å–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π](#–≤–Ω–µ—Å–µ–Ω–∏–µ-–∏–∑–º–µ–Ω–µ–Ω–∏–π)
- [–õ–∏—Ü–µ–Ω–∑–∏—è –∏ –∞–≤—Ç–æ—Ä—Å—Ç–≤–æ](#–ª–∏—Ü–µ–Ω–∑–∏—è-–∏-–∞–≤—Ç–æ—Ä—Å—Ç–≤–æ)
- [–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏](#–ø–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏)
- [–ü–æ–¥–¥–µ—Ä–∂–∫–∞](#–ø–æ–¥–¥–µ—Ä–∂–∫–∞)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ö](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–Ω–∞-—Ä–∞–∑–Ω—ã—Ö-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ö)

---

## üê£ –î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤: –û—Å–Ω–æ–≤—ã –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏

–ï—Å–ª–∏ –≤—ã –≤–ø–µ—Ä–≤—ã–µ —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç–µ—Å—å —Å —Ç–µ—Ä–º–∏–Ω–∞–º–∏ "–∑–∞–∫—Ä—ã—Ç—ã–π –∫–ª—é—á", "–ì–û–°–¢" –∏–ª–∏ "—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç", –Ω–µ –≤–æ–ª–Ω—É–π—Ç–µ—Å—å! 

–ö—Ä–∞—Ç–∫–∏–π –ª–∏–∫–±–µ–∑:
1.  **–ó–∞–∫—Ä—ã—Ç—ã–π –∫–ª—é—á (Private Key)** ‚Äî –≤–∞—à –≥–ª–∞–≤–Ω—ã–π —Å–µ–∫—Ä–µ—Ç. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∏.
2.  **–û—Ç–∫—Ä—ã—Ç—ã–π –∫–ª—é—á (Public Key)** ‚Äî —Ç–æ, —á—Ç–æ –≤—ã –¥–∞–µ—Ç–µ –¥—Ä—É–≥–∏–º –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞—à–µ–π –ø–æ–¥–ø–∏—Å–∏.
3.  **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç** ‚Äî –ø–∞—Å–ø–æ—Ä—Ç –≤–∞—à–µ–≥–æ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –∫–ª—é—á–∞, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–π –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π (–£–¶).
4.  **–ì–û–°–¢** ‚Äî —ç—Ç–æ —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–æ–¥–ø–∏—Å–∏.

üìñ **[–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ –∫–∞—Ä—Ç–∏–Ω–∫–∞—Ö –¥–æ—Å—Ç—É–ø–Ω–∞ –∑–¥–µ—Å—å (docs.md)](docs.md)**

---

## üóÇÔ∏è –§–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤ –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è (PEM, DER, PFX)

–î–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –∫–ª—é—á–µ–π –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (–æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ —Å Windows –Ω–∞ Linux/Docker):

*   **PEM** (.pem, .crt, .key) ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç (Base64), –æ—Å–Ω–æ–≤–Ω–æ–π –¥–ª—è OpenSSL.
*   **DER** (.der, .cer) ‚Äî –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.
*   **PKCS#12** (.p12, .pfx) ‚Äî –∑–∞—â–∏—â–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä "–∫–ª—é—á + —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç".

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤ —á–∏—Ç–∞–π—Ç–µ –≤ **[—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Ä–∞–∑–¥–µ–ª–µ docs.md](docs.md#—Ñ–æ—Ä–º–∞—Ç—ã-—Ñ–∞–π–ª–æ–≤)**.

---

## üèõÔ∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å –ì–û–°–¢ (–ï–°–ò–ê)

–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ç–µ—Å—Ç–æ–≤—ã–º –∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–º –∫–æ–Ω—Ç—É—Ä–æ–º –ï–°–ò–ê –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á–∏ (512 –±–∏—Ç) –∏ –∏–∑–≤–ª–µ–∫–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–µ –∫–ª—é—á–∏.

–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–º–∞–Ω–¥:
*   [–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–ª—é—á–µ–π 512 –±–∏—Ç](docs.md#1-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è-–Ω–æ–≤—ã—Ö-—Ç–µ—Å—Ç–æ–≤—ã—Ö-–∫–ª—é—á–µ–π-–≥–æ—Å—Ç)
*   [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –ï–°–ò–ê (Production)](docs.md#4-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-–ø—É–±–ª–∏—á–Ω—ã—Ö-–∫–ª—é—á–µ–π-–µ—Å–∏–∞-production)
*   [–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Docker](docs.md#–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–ø—Ä–æ–≤–µ—Ä–∫–∏-—á–µ—Ä–µ–∑-docker)
*   **[–°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–∏—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö PFX-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤](create-test-container.md)**

---

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

-   **stunnel**: 5.76 (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π TLS-–ø—Ä–æ–∫—Å–∏)
-   **curl**: 8.17.0 (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ENGINE)
-   **get-cpcert**: —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ö—Ä–∏–ø—Ç–æ–ü—Ä–æ
-   **gostsum**: —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ö–µ—à-—Å—É–º–º –ì–û–°–¢ (–∏–∑ —Å–æ—Å—Ç–∞–≤–∞ gost-engine)
-   **Python 3 + gostcrypto**: –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ì–û–°–¢ –Ω–∞ Python
-   **Node.js + gostcrypto**: –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ì–û–°–¢ –Ω–∞ Node.js (pure JS)
-   **jq**: –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JSON (–ø–æ–ª–µ–∑–µ–Ω –¥–ª—è API –æ—Ç–≤–µ—Ç–æ–≤)
-   **–•–µ–ª–ø–µ—Ä—ã**: –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è CMS-–ø–æ–¥–ø–∏—Å–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø—Ä–∞–≤–∫–∏ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
docker compose run --rm openssl-gost get-cpcert
```

### ‚úÖ –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

#### –ê—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–∞—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è (–ì–û–°–¢ –† 34.10)

- **–ì–û–°–¢ –† 34.10‚Äë2001**: DSA-–ø–æ–¥–æ–±–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º, 256 –±–∏—Ç
- **–ì–û–°–¢ –† 34.10‚Äë2012**: 256 –∏ 512 –±–∏—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π, FIPS 186-4 compatible)

#### –°–∏–º–º–µ—Ç—Ä–∏—á–Ω–∞—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è

| –ê–ª–≥–æ—Ä–∏—Ç–º | –ö–ª—é—á | –ë–ª–æ–∫ | –†–µ–∂–∏–º—ã |
|----------|------|------|--------|
| **–ì–û–°–¢ 28147‚Äë89** (–ú–∞–≥–∞–¥–∞–Ω) | 256 –±–∏—Ç | 64 –±–∏—Ç | ECB, CBC, CFB, OFB, CTR, CTRACKPM |
| **–ì–û–°–¢ –† 34.12‚Äë2015 (–ö—É–∑–Ω–µ—á–∏–∫)** | 256 –±–∏—Ç | 128 –±–∏—Ç | ECB, CBC, CFB, OFB, CTR, MGMACKPM, CTRACKPM |
| **–ì–û–°–¢ –† 34.12‚Äë2015 (–ú–∞–≥–º–∞)** | 256 –±–∏—Ç | 64 –±–∏—Ç | ECB, CBC, CTR, MGMACKPM, CTRACKPM |

#### –•–µ—à-—Ñ—É–Ω–∫—Ü–∏–∏ –∏ MAC

- **–ì–û–°–¢ –† 34.11‚Äë94**: 256 –±–∏—Ç (legacy, –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
- **–ì–û–°–¢ –† 34.11‚Äë2012**: 256 –±–∏—Ç (`md_gost12_256`) –∏ 512 –±–∏—Ç (`md_gost12_512`)
- **GOST MAC**: –Ω–∞ –±–∞–∑–µ –ì–û–°–¢ 28147‚Äë89
- **GOST MAC 12**: –Ω–∞ –±–∞–∑–µ –ì–û–°–¢ –† 34.11‚Äë2012
- **–ö—É–∑–Ω–µ—á–∏–∫ MAC** –∏ **–ú–∞–≥–º–∞ MAC**: —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ MACs

### üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **OpenSSL –≤–µ—Ä—Å–∏—è** | 3.6.0 |
| **Base image** | Alpine 3.22.2 |
| **–†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞** | ~60 –ú–ë |
| **–°–∂–∞—Ç—ã–π —Ä–∞–∑–º–µ—Ä** | ~15 –ú–ë |
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** | x86_64, aarch64 (ARM64/Apple Silicon) ‚úÖ |
| **Engine API** | OpenSSL 3.x ENGINE |
| **TLS –≤–µ—Ä—Å–∏–∏** | TLSv1.2, TLSv1.3 (–≤–∫–ª—é—á–∞—è –ì–û–°–¢-—à–∏—Ñ—Ä—ã) |
| **stunnel** | 5.76 |
| **curl** | 8.17.0 |
| **get-cpcert** | ‚úÖ –≤–∫–ª—é—á–µ–Ω–∞ |
| **gostsum** | ‚úÖ –≤–∫–ª—é—á–µ–Ω–∞ |
| **Python / gostcrypto** | ‚úÖ –≤–∫–ª—é—á–µ–Ω—ã |
| **Node.js / gostcrypto** | ‚úÖ –≤–∫–ª—é—á–µ–Ω—ã |
| **jq / vim / nano** | ‚úÖ –≤–∫–ª—é—á–µ–Ω—ã |

---

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Docker**: 20.10+
- **Docker Compose**: v2.0+
- **–û–° —Ö–æ—Å—Ç–∞**: Linux (x86_64, aarch64), macOS (Intel/Apple Silicon), Windows (WSL2)
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç**: –¥–æ—Å—Ç—É–ø –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ OpenSSL –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è `gost-engine`
- **–î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ**: ~15-20 –ì–ë –¥–ª—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å–ª–æ—ë–≤ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 2Ô∏è‚É£ –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞

```bash
docker compose build --no-cache
```

**‚è±Ô∏è –í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏:** 5-10 –º–∏–Ω—É—Ç (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏ –ü–ö).

### 3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
docker compose run --rm -it openssl-gost sh
```

### 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
openssl version -a
openssl engine -t -c
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
OpenSSL 3.6.0 1 Oct 2025 (Library: OpenSSL 3.6.0 1 Oct 2025)
...
ENGINESDIR: "/opt/openssl/lib/engines-3"

(gost) Reference implementation of GOST engine
 [gost89, kuznyechik-*, magma-*, md_gost12_256, md_gost12_512, ...]
     [ available ]
```

### üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ö–µ–ª–ø–µ—Ä—ã

–í –æ–±—Ä–∞–∑–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ–ª–µ–∑–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –∏ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã:

**1. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ö–µ—à-—Å—É–º–º—ã —á–µ—Ä–µ–∑ gostsum:**
```bash
docker compose run --rm openssl-gost gostsum /etc/ssl/openssl.cnf
```

**2. –ü–æ–¥–ø–∏—Å—å —Ñ–∞–π–ª–∞ (CMS/CAdES) —Å –ø–æ–º–æ—â—å—é —Ö–µ–ª–ø–µ—Ä–∞:**
```bash
docker compose run --rm openssl-gost gost-cms-sign cert.pem key.pem document.txt
# –°–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª document.txt.sig –≤ —Ñ–æ—Ä–º–∞—Ç–µ DER
```

**3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏:**
```bash
docker compose run --rm openssl-gost gost-cms-verify cert.pem document.txt.sig
# –ü—Ä–æ–≤–µ—Ä–∏—Ç –ø–æ–¥–ø–∏—Å—å –∏ –∏–∑–≤–ª–µ—á–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª –≤ document.txt.sig.original
```

**4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Python –¥–ª—è –ì–û–°–¢:**
```bash
docker compose run --rm openssl-gost python3 -c "import gostcrypto; print(gostcrypto.version)"
```

**5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Node.js –¥–ª—è –ì–û–°–¢:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —á–µ—Ä–µ–∑ CLI —É—Ç–∏–ª–∏—Ç—É
docker compose run --rm openssl-gost gost-export-cryptopro-key --help

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ JS-–∫–æ–¥–µ
docker compose run --rm openssl-gost node -e "const engine = require('/usr/local/lib/node_modules/gostcrypto/lib/gostEngine.js'); console.log(engine.getGostDigest({name: 'GOST R 34.11', length: 256}))"
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Multi-Stage Build

–û–±—Ä–∞–∑ –ø–æ—Å—Ç—Ä–æ–µ–Ω –≤ **–¥–≤–µ —Å—Ç–∞–¥–∏–∏** –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ STAGE 1: BUILDER (Alpine 3.22.2 + Toolchain)             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚úì build-base, cmake, ninja, git, perl, curl              ‚îÇ
‚îÇ ‚úì –°–∫–∞—á–∞—Ç—å OpenSSL 3.6.0 –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤                    ‚îÇ
‚îÇ ‚úì ./config + make install_sw (—Å enable-engine)           ‚îÇ
‚îÇ ‚úì –°–∫–∞—á–∞—Ç—å gost-engine/engine (—Å git submodules)          ‚îÇ
‚îÇ ‚úì CMake + Ninja build –∏ install –≤ /opt/openssl           ‚îÇ
‚îÇ ‚úì –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: strip, —É–¥–∞–ª–µ–Ω–∏–µ *.a, –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è         ‚îÇ
‚îÇ ‚úì –†–∞–∑–º–µ—Ä: ~3 –ì–ë (–ø–æ—Ç–æ–º —É–¥–∞–ª—è–µ—Ç—Å—è)                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚Üì COPY /tmp/rootfs
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ STAGE 2: RUNTIME (Alpine 3.22.2 minimal)                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚úì ca-certificates, libc6-compat           ‚îÇ
‚îÇ ‚úì OpenSSL –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ + –±–∏–±–ª–∏–æ—Ç–µ–∫–∏                         ‚îÇ
‚îÇ ‚úì GOST-engine .so —Ñ–∞–π–ª—ã                                  ‚îÇ
‚îÇ ‚úì –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã                                 ‚îÇ
‚îÇ ‚úì –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (CA)                                       ‚îÇ
‚îÇ ‚úì –†–∞–∑–º–µ—Ä: 60.6 –ú–ë ‚úÖ                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|---------|---------|
| `OPENSSL_PREFIX` | `/opt/openssl` | –ö–æ—Ä–µ–Ω—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ OpenSSL |
| `OPENSSL_CONF` | `/opt/openssl/ssl/openssl.cnf` | –ö–æ–Ω—Ñ–∏–≥ —Å GOST-–¥–≤–∏–∂–∫–æ–º |
| `LD_LIBRARY_PATH` | `/opt/openssl/lib` | –ü—É—Ç—å –∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º |
| `PATH` | `/opt/openssl/bin:...` | –í–∫–ª—é—á–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–π `openssl` –±–∏–Ω–∞—Ä–Ω–∏–∫ |

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ì–ûST-—à–∏—Ñ—Ä–æ–≤

```bash
docker compose run --rm openssl-gost openssl ciphers -v 'GOST2012:GOST2001'
```

### üåê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ curl —Å –ì–û–°–¢

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ TLS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–∞–π—Ç–æ–º, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º –ì–û–°–¢
docker compose run --rm openssl-gost curl -v -k https://www.gosuslugi.ru/
```

### üîë –†–∞–±–æ—Ç–∞ —Å –∫–ª—é—á–∞–º–∏ –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏

#### 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞ –ì–û–°–¢ –† 34.10‚Äë2012 (256 –±–∏—Ç)
```bash
docker compose run --rm openssl-gost openssl genpkey \
  -engine gost \
  -algorithm gost2012_256 \
  -pkeyopt paramset:A \
  -out private.key
```

#### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
```bash
docker compose run --rm openssl-gost openssl req -new -x509 \
  -engine gost \
  -key private.key \
  -out cert.crt \
  -days 365 \
  -subj "/C=RU/L=Moscow/O=MyOrg/CN=localhost"
```

#### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
```bash
docker compose run --rm openssl-gost openssl x509 -in cert.crt -text -noout
```

## üß™ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω—ã –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ PFX-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –ì–û–°–¢-–∫–ª—é—á–∞–º–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **[–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤](create-test-container.md)**.

# üìù –ü–æ–¥–ø–∏—Å—å –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ (CMS/CAdES)

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–¥–ø–∏—Å—å—é –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ö–µ–ª–ø–µ—Ä—ã:

```bash
# –ü–æ–¥–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª (—Å–æ–∑–¥–∞—Å—Ç document.txt.sig)
docker compose run --rm openssl-gost gost-cms-sign cert.crt private.key document.txt

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å (–∏–∑–≤–ª–µ—á–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª –≤ document.txt.sig.original)
docker compose run --rm openssl-gost gost-cms-verify cert.crt document.txt.sig
```

–ò–ª–∏ `openssl smime` –Ω–∞–ø—Ä—è–º—É—é:
```bash
docker compose run --rm openssl-gost \
  openssl smime -sign -engine gost -binary \
  -signer cert.crt -inkey private.key \
  -in document.txt -out document.txt.sig -outform DER
```

### üßÆ –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (gostsum)

```bash
# –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ì–û–°–¢-—Ö–µ—à–∞ –¥–ª—è —Ñ–∞–π–ª–∞
docker compose run --rm openssl-gost gostsum document.txt
```

### üêç Python (gostcrypto)

–ü—Ä–∏–º–µ—Ä –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ö–µ—à–∞ –≤ Python:
```bash
docker compose run --rm openssl-gost python3 -c "
import gostcrypto
data = b'Hello GOST'
hasher = gostcrypto.gosthash.new('streebog256')
hasher.update(data)
print(f'Hash: {hasher.hexdigest()}')
"
```

### üü¢ Node.js (gostcrypto)

–ü—Ä–∏–º–µ—Ä –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ö–µ—à–∞ –≤ Node.js:
```bash
docker compose run --rm openssl-gost node -e "
const engine = require('/usr/local/lib/node_modules/gostcrypto/lib/gostEngine.js');
const digest = engine.getGostDigest({name: 'GOST R 34.11', length: 256});
console.log('Digest:', Buffer.from(digest.digest('Hello GOST')).toString('hex'));
"
```

### üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (get-cpcert)

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
docker compose run --rm openssl-gost get-cpcert
```

### ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ stunnel (–ì–û–°–¢ TLS –¢—É–Ω–Ω–µ–ª—å)

–°–æ–∑–¥–∞–π—Ç–µ `stunnel.conf`:
```ini
[gost-tunnel]
client = yes
accept = 0.0.0.0:4433
connect = target-gost-server.ru:443
engine = gost
```
–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
docker compose run --rm -v $(pwd)/stunnel.conf:/etc/stunnel/stunnel.conf openssl-gost stunnel /etc/stunnel/stunnel.conf
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### docker-compose.yml

```yaml
services:
  openssl-gost:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        OPENSSL_VERSION: "3.6.0"
    container_name: openssl-gost
    environment:
      - OPENSSL_CONF=/opt/openssl/ssl/openssl.cnf
    command: ["openssl", "version", "-a"]
```

### Dockerfile –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–±–æ—Ä–∫–∏

| –ê—Ä–≥—É–º–µ–Ω—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|------------------|---------|
| `OPENSSL_VERSION` | `3.6.0` | –í–µ—Ä—Å–∏—è OpenSSL (—Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è —Å openssl.org) |
| `GOST_ENGINE_REPO` | `https://github.com/gost-engine/engine.git` | Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GOST-engine |
| `MAKE_JOBS` | `4` | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ |

**–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏:**

```bash
docker compose build --no-cache --build-arg OPENSSL_VERSION=3.6.1
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è openssl.cnf

–ï—Å–ª–∏ –Ω—É–∂–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã GOST-engine (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã CryptoPro), –¥–æ–±–∞–≤—å –≤ `[gost_section]`:

```ini
[gost_section]
engine_id = gost
dynamic_path = /opt/openssl/lib/engines-3/gost.so
default_algorithms = ALL

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
crypt_params = id-GostR3410-2001-CryptoPro-A-ParamSetA
```

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞ GOST-–¥–≤–∏–∂–∫–∞

```bash
docker compose run --rm openssl-gost sh -c '
  echo "=== OpenSSL Info ===" && openssl version -a && \
  echo "=== GOST Engine ===" && openssl engine -t -c && \
  echo "=== Available ciphers ===" && openssl ciphers | grep -i gost | head -5
'
```

---

## üìä –†–∞–∑–º–µ—Ä –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞** | 60.6 –ú–ë |
| **–°–∂–∞—Ç—ã–π —Ä–∞–∑–º–µ—Ä (push)** | 15.2 –ú–ë |
| **Ratio —Å–∂–∞—Ç–∏—è** | 72% |
| **–í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏** | 5-10 –º–∏–Ω—É—Ç |
| **Base image** | Alpine 3.22.2 (~5 –ú–ë) |
| **OpenSSL + libs** | ~30 –ú–ë |
| **GOST-engine** | ~2 –ú–ë |
| **–°–∏—Å—Ç–µ–º–∞ + —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** | ~35 –ú–ë |


---

## ü§ù –í–Ω–µ—Å–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑:

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π `Dockerfile` –∏–ª–∏ `docker-compose.yml`
2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏ —Å `--no-cache`: `docker compose build --no-cache`
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π: `docker compose run --rm -it openssl-gost sh`
4. –°–æ–∑–¥–∞–π —Ç–µ–≥ –∏ –∑–∞–ª–µ–π –≤ —Ä–µ–µ—Å—Ç—Ä

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è –∏ –∞–≤—Ç–æ—Ä—Å—Ç–≤–æ

- **OpenSSL**: Apache 2.0 License
- **GOST Engine**: Apache 2.0 License
- **–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç**: Apache 2.0 License

–ò—Å–ø–æ–ª—å–∑—É–π –æ–±—Ä–∞–∑ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –ª–∏—Ü–µ–Ω–∑–∏–π –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ –≤–∞—à–µ–π —é—Ä–∏—Å–¥–∏–∫—Ü–∏–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ –†–æ—Å—Å–∏–∏ –∏ —Å—Ç—Ä–∞–Ω–∞—Ö —Å —ç–∫—Å–ø–æ—Ä—Ç–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏).

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- üåê [OpenSSL Official](https://www.openssl.org/)
- üîß [GOST Engine GitHub](https://github.com/gost-engine/engine)
- üê≥ [Docker Documentation](https://docs.docker.com/)
- üèîÔ∏è [Alpine Linux](https://alpinelinux.org/)
- üìö [–ì–û–°–¢ –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã](https://www.gost.ru/)
- üìñ [OpenSSL Man Pages](https://www.openssl.org/docs/man3.6/)

---

## üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:

1. –ü—Ä–æ–≤–µ—Ä—å **–ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏**: `docker compose build --no-cache 2>&1 | tee build.log`
2. –¢–µ—Å—Ç–∏—Ä—É–π **–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ**: `docker compose run --rm -it openssl-gost sh`
3. –ü—Ä–æ–≤–µ—Ä—å **–æ–∫—Ä—É–∂–µ–Ω–∏–µ**: `docker system df` (–¥–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ)
4. –û–±–Ω–æ–≤–∏ **Docker**: `docker --version` (–Ω—É–∂–µ–Ω 20.10+)

---

## ‚ú® –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ö

–û–±—Ä–∞–∑ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞:

- ‚úÖ **x86_64** (Intel/AMD Linux)
- ‚úÖ **aarch64** (ARM64 / Apple Silicon Mac)
- ‚úÖ **WSL2** (Windows Subsystem for Linux)

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker compose run --rm openssl-gost uname -m
# –†–µ–∑—É–ª—å—Ç–∞—Ç: aarch64 –∏–ª–∏ x86_64
```