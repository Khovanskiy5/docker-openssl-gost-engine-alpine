# üß™ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ì–û–°–¢ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

–í—ã –º–æ–∂–µ—Ç–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (PFX) —Å –ì–û–°–¢-–∫–ª—é—á–∞–º–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤–∞—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

> **–í–∞–∂–Ω–æ:** –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É —Ñ–æ—Ä–º–∞—Ç–∞ –ö—Ä–∏–ø—Ç–æ–ü—Ä–æ (`.000`) –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ OpenSSL –Ω–µ–ª—å–∑—è, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –∑–∞–∫—Ä—ã—Ç—ã–π —Ñ–æ—Ä–º–∞—Ç. –ù–æ –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å PFX-—Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ì–û–°–¢.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (–æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π)

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `test_gost.pfx` —Å –ø–∞—Ä–æ–ª–µ–º `12345678`.

```bash
docker compose run --rm -v $(pwd):/work openssl-gost sh -c "
  # 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–æ–≥–æ –∫–ª—é—á–∞ –ì–û–°–¢ 2012 (256 –±–∏—Ç)
  openssl genpkey -engine gost -algorithm gost2012_256 \
    -pkeyopt paramset:A \
    -out /work/test_gost.key

  # 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
  openssl req -new -x509 -engine gost \
    -key /work/test_gost.key \
    -out /work/test_gost.crt \
    -days 365 \
    -subj '/C=RU/L=Moscow/O=Test Organization/CN=Test User'

  # 3. –£–ø–∞–∫–æ–≤–∫–∞ –≤ PFX (PKCS#12)
  openssl pkcs12 -export -engine gost \
    -out /work/test_gost.pfx \
    -inkey /work/test_gost.key \
    -in /work/test_gost.crt \
    -passout pass:12345678 -legacy

  # –£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
  rm /work/test_gost.key /work/test_gost.crt
"
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ–≥–æ, –∏—Å–ø–æ–ª—å–∑—É—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é:

```bash
# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –∏ –∫–ª—é—á–∞
docker compose run --rm -v $(pwd):/work openssl-gost \
  openssl pkcs12 -in /work/test_gost.pfx -passin pass:12345678 -legacy -nodes -out /work/test_extracted.pem
```

## üí° –ü–æ—á–µ–º—É —ç—Ç–æ —É–¥–æ–±–Ω–æ?

1.  **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: PFX, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ OpenSSL —Å —Ñ–ª–∞–≥–æ–º `-legacy`, –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —ç—Ç–∏–º –∂–µ OpenSSL (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö PFX –∏–∑ –ö—Ä–∏–ø—Ç–æ–ü—Ä–æ).
2.  **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: –í—ã –º–æ–∂–µ—Ç–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏ –¥–ª—è CI/CD –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∑–∞ —Å–µ–∫—É–Ω–¥—ã.
3.  **–ì–∏–±–∫–æ—Å—Ç—å**: –í—ã –º–æ–∂–µ—Ç–µ –º–µ–Ω—è—Ç—å `subj` (–¥–∞–Ω–Ω—ã–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞) –∏ `days` (—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è) –ø–æ —Å–≤–æ–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é.
